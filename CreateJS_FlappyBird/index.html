<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Experiments - Animations + Frontend Tests (Andaeiii.co)</title>
    <link type="text/css" rel="stylesheet" href="./styles.css" />
    <script src="./libs/createjs.min.js"></script>
</head>
<body>


    <div class="tp">
        <h1>My CreateJS  <br/> Animation </br/>
        Experiments</h1>

        <span>1. ping pong (background)</span>
        <span>2. Dots on the Background</span>
        <span>2. Bird Game(click to play)</span>
        <br/>
        <div class="ctrls">
            <div>
                <span>Velocity-X</span>
                <select id="vxobj" onchange="setWProp(this,'vx')">
                    <option> change vx </option>
                </select>
            </div>
            <div>
                <span>Velocity-Y</span>
                <select id="vyobj" onchange="setWProp(this, 'vy')">
                    <option>change vy </option>
                </select>
            </div>
            <div>
                <span>Speed</span>
                <select id="spobj" onchange="setWProp(this, 'sp')">
                    <option>change speed </option>
                </select>
            </div>
        </div>



        <a class="by" href="https://www.github.com/andaeiii" target="_blank">by Ande Caleb (Senior Frontend Dev)</a>
    </div>


    <canvas class="gamecanvas" id="gameCanvas" width="320" height="480"></canvas>
       
    <iframe id="pingObj" src="pingpong.html" frameborder="6"></iframe>    

    <script src="./js/game.js"></script>

    <script>

        (function() {
            var cvv = document.getElementById('gameCanvas');
            window.addEventListener('resize', resizeCanvas, false);

            init();
            //startPingPong();

            function resizeCanvas() {
                window.location.reload();
                cvv.width = window.innerWidth;
                cvv.height = window.innerHeight;
                if(window.innerWidth < 800){
                    alert('not for mobile, yet');
                    return;
                }
                init();
                //startPingPong();
            }


            const getRange = (start, end) => Array(end - start + 1).fill().map((_, idx) => start + idx);  //get range of values... 

            const populateSelObjs = () => {
                let objs = ['vxobj','vyobj','spobj'];
                objs.forEach(o => {
                    let spd = 0;
                    let vx = getRange(1, 40).map(v => {
                        spd = (o != 'spobj') ? v/10 : (v/10)+(2 * v) ; 
                        return `<option value="${spd}">${spd} m/s </option>`;
                    });  
                    str = ['<option>change value..</option>', ...vx].join('');
                   // console.log(str);
                    document.getElementById(o).innerHTML = str;
                });
            }
            populateSelObjs();

        })();





</script>


</body>
</html>